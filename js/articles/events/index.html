<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html class="theme-dark">
  
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Events </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" content="Events ">
    <meta name="generator" content="docfx 2.58.0.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.2/jquery.modal.min.css" integrity="sha512-T3VL1q6jMUIzGLRB9z86oJg9PgF7A55eC2XkB93zyWSqQw3Ju+6IEJZYBfT7E9wOHM7HCMCOZSpcssxnUn6AeQ==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/stackoverflow-dark.min.css" integrity="sha512-Xn1b0y/BrCD7usnEh6r9CcKxHXFVleVUjGDnfc95zDDwFUwtOz3lJC/XtJcuLRNyrMQJEEToFfwjC9Ue/aWY/g==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/stackoverflow-light.min.css" integrity="sha512-RDtnAhiPytLVV3AwzHkGVMVI4szjtSjxxyhDaH3gqdHPIw5qwQld1MVGuMu1EYoof+CaEccrO3zUVb13hQFU/A==" crossorigin="anonymous" disabled="disabled">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/solid.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="../../../styles/colors.css">
    <link rel="stylesheet" href="../../../styles/discord.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../../toc.html">
    
    <meta property="docfx:rel" content="../../../">
    
  </head>

  <body>

        <div class="body-content">

            <nav id="sidebar" role="navigation">

                <div class="sidebar">
                    
                    
                    
                    
                    <div>
                      
                      <a class="brand" href="../../../index.html">
                        <img src="../../../logo.svg" alt="alt:V" class="logomark">
                        <span class="brand-title">alt:V</span>
                      </a>
                      <div id="navbar">
                    
                      </div>
                    
                    </div>
                    


                </div>


            </nav>

            <main class="main-panel">

                <div class="blackout desktop-hide"></div>

                    
                    <div class="subnav navbar navbar-default">
                      <button class="btn-link search-back desktop-hide"></button>
                      <button class="btn-link navbar-toggler" aria-label="Toggle navigation"></button>
                      <div class="container" id="breadcrumb">
                        <ul class="breadcrumb">
                          <li></li>
                        </ul>
                      </div>
                      <div class="flex-space"></div>
                      <div class="toolbar">
                          <div style="position: relative; margin: 0 8px;">
                            <form class="search-bar mobile-hide" role="search" id="search" style="position: relative;">
                              <button class="btn-link clear" id="search-query-clear"></button>
                              <div role="textbox" class="form-control" id="search-query" placeholder="Search" contenteditable="true"></div>
                            </form>
                            <div class="popout" id="search-menu">
                                <button class="btn-link search-help" data-href="../../../articles/search_help.html"></button>
                              <span class="title">
                                Search options:
                              </span>
                            </div>
                            <button class="btn-link search-tip desktop-hide"></button>
                          </div>
                      </div>
                      <button class="btn-link btn-floating search desktop-hide"></button>
                      <div class="theme">
                        <button class="btn-link theme" aria-label="Switch theme"></button>
                        <div class="popout" id="theme-menu">
                          <div class="theme-option light" data-theme="light">
                            <span class="btn-link theme-light">Light</span>
                          </div>
                          <div class="theme-option dark" data-theme="dark">
                            <span class="btn-link theme-dark">Dark</span>
                          </div>
                          <div class="theme-option auto" data-theme="auto">
                            <span class="btn-link theme-auto">Sync with OS</span>
                          </div>
                        </div>
                      </div>
                    </div>

                <div class="content-region" role="main">

                    <div class="content-column Conceptual">

                            
                            <div class="sideaffix hide-when-search" data-noindex="">
                              <h3>Index</h3>
                              <div class="bs-docs-sidebar affix" id="affix"><ul class="level1 nav bs-docs-sidenav"><li><a href="#events">Events</a><ul class="level2 nav bs-docs-sidenav events"><li><a href="#server-to-client">Server to client</a></li><li><a href="#client-to-server">Client to server</a></li><li><a href="#server-resource-to-server-resource">Server resource to server resource</a></li><li><a href="#client-resource-to-client-resource">Client resource to client resource</a></li><li><a href="#client-to-webview-and-back">Client to WebView and back</a></li><li><a href="#unsubscribes-from-events">Unsubscribes from events</a></li><li><a href="#raw-events">Raw Events</a></li></ul></li></ul></div>
                            </div>

                            
                            <div id="search-results">
                              <div class="search-list">Search Results for <span></span></div>
                              <div class="sr-items">
                                <p><span class="glyphicon glyphicon-refresh index-loading"></span></p>
                              </div>
                              <ul id="pagination" data-first="" data-prev="&#xf053;" data-next="&#xf054;" data-last=""></ul>
                            </div>

                        <article class="content wrap hide-when-search" id="_content" data-uid="">

                                <span class="small pull-right article mobile-hide" style="margin: 0;" data-noindex="">
                                    <ul class="subnav contribution">
                                            <li>
                                                <a href="https://github.com/altmp/altv-types/blob/master/docs/articles/events/index.md/#L1">Improve this Doc</a>
                                            </li>
                                    </ul>
                                </span>

<h1 id="events">Events</h1>

<p>Events work in a very specific way and understanding their communication is very important.</p>
<p>The server can communicate with any client.
Clients may only communicate with WebViews and the server.</p>
<p>A client <strong>CANNOT</strong> communicate with another client.</p>
<table>
<thead>
<tr>
<th>Function Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>alt.emit</td>
<td>Emit an event on server or client side. Only received on the side it was emitted from.</td>
</tr>
<tr>
<td>alt.on</td>
<td>Receives an event. Server only receives server events. Client only receives client events.</td>
</tr>
<tr>
<td>alt.off</td>
<td>Stop listening to custom or built-in events.</td>
</tr>
<tr>
<td>alt.onServer</td>
<td>Receives an event emitted from the server on client-side. Triggered with <code>alt.emitClient</code>.</td>
</tr>
<tr>
<td>alt.offServer</td>
<td>Stop listening to custom events from the server.</td>
</tr>
<tr>
<td>alt.emitClient</td>
<td>Emit an event to a specific client or an array of clients that they receive with <code>alt.onServer</code>.</td>
</tr>
<tr>
<td>alt.emitClientRaw</td>
<td>Emit an event to a specific client or an array of clients. It works faster than <code>emitAllClients</code> that they receive with <code>alt.onServer</code>.</td>
</tr>
<tr>
<td>alt.emitAllClients</td>
<td>Emit an event to all clients that they receive with <code>alt.onServer</code>.</td>
</tr>
<tr>
<td>alt.emitAllClientsRaw</td>
<td>Emit an event to all clients. It works faster than <code>emitAllClients</code> that they receive with <code>alt.onServer</code>.</td>
</tr>
<tr>
<td>alt.onClient</td>
<td>Receives an event emitted from the client on server-side. Triggered with <code>alt.emitServer</code>.</td>
</tr>
<tr>
<td>alt.offClient</td>
<td>Stop listening to custom events from the client.</td>
</tr>
<tr>
<td>alt.emitServer</td>
<td>Emit an event to the server that is received with <code>alt.onClient</code>.</td>
</tr>
<tr>
<td>alt.emitServerRaw</td>
<td>(only works, server is using javascript)  Emit an event to the server. It works faster than <code>emitServer</code> that they receive with <code>alt.onClient</code></td>
</tr>
</tbody>
</table>
<h2 id="server-to-client">Server to client</h2>
<p>The server may only emit data to the client-side with <code>emitClient</code> or <code>emitClientRaw</code>, which requires a Player.
However, a player can also be substituted for <code>null</code> which works the same way as <code>alt.emitAllClients</code> by emitting it to all clients.</p>
<p><code>emitClientRaw</code> and <code>emitAllClientsRaw</code> are used for big data and are faster than <code>emitClient</code> or <code>emitAllClients</code>.</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S_tab1-0" role="tab" aria-controls="tabpanel_bHGHmlrG6S_tab1-0" data-tab="tab1-0" tabindex="0" aria-selected="true">Client-side</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S_tab1-1" role="tab" aria-controls="tabpanel_bHGHmlrG6S_tab1-1" data-tab="tab1-1" tabindex="-1">Server-side</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S_tab1-0" role="tabpanel" data-tab="tab1-0">

<pre><code class="lang-js">alt.onServer('sayHello', () =&gt; {
    alt.log('Hello from server.');
});
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S_tab1-1" role="tabpanel" data-tab="tab1-1" aria-hidden="true" hidden="hidden">

<pre><code class="lang-js">alt.on('playerConnect', player =&gt; {
    alt.emitClient(player, 'sayHello'); // Send an event to a specific player

    // Send an event to all players
    alt.emitClient(null, 'sayHello');
    alt.emitAllClients('sayHello');
});
</code></pre>
</section>
</div>
<h2 id="client-to-server">Client to server</h2>
<p>The client may only emit data to the server-side with <code>emitServer</code> or <code>emitServerRaw</code>.
<code>emitServerRaw</code> is used for big data and is faster than <code>emitServer</code> and <code>emitServerRaw</code> only works, if the server is using javascript.</p>
<p>The server-side <code>onServer</code> event handlers will automatically receive the player that sent the event as the first argument.</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-1">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-1_tab2-0" role="tab" aria-controls="tabpanel_bHGHmlrG6S-1_tab2-0" data-tab="tab2-0" tabindex="0" aria-selected="true">Client-side</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-1_tab2-1" role="tab" aria-controls="tabpanel_bHGHmlrG6S-1_tab2-1" data-tab="tab2-1" tabindex="-1">Server-side</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-1_tab2-0" role="tabpanel" data-tab="tab2-0">

<pre><code class="lang-js">alt.on('connectionComplete', () =&gt; {
    alt.emitServer('sayHello');
});
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-1_tab2-1" role="tabpanel" data-tab="tab2-1" aria-hidden="true" hidden="hidden">

<pre><code class="lang-js">alt.onClient('sayHello', player =&gt; {
    alt.log(`${player.name} is saying hello`);
});
</code></pre>
</section>
</div>
<h2 id="server-resource-to-server-resource">Server resource to server resource</h2>
<p>The server &amp; client may only communicate with itself with the <code>on</code> and <code>emit</code> functions.
They are sent and received across resources as well.</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-2">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-2_tab3-0" role="tab" aria-controls="tabpanel_bHGHmlrG6S-2_tab3-0" data-tab="tab3-0" tabindex="0" aria-selected="true">Server-side</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-2_tab3-0" role="tabpanel" data-tab="tab3-0">

<pre><code class="lang-js">alt.emit('hello', 'this is a message');

alt.on('hello', msg =&gt; {
    alt.log(msg);
});
</code></pre>
</section>
</div>
<h2 id="client-resource-to-client-resource">Client resource to client resource</h2>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-3">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-3_tab4-0" role="tab" aria-controls="tabpanel_bHGHmlrG6S-3_tab4-0" data-tab="tab4-0" tabindex="0" aria-selected="true">Client-side</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-3_tab4-0" role="tabpanel" data-tab="tab4-0">

<pre><code class="lang-js">alt.emit('hello', 'this is a message');

alt.on('hello', msg =&gt; {
    alt.log(msg);
});
</code></pre>
</section>
</div>
<h2 id="client-to-webview-and-back">Client to WebView and back</h2>
<p><strong>Note:</strong> <code>resource</code> in the URL of the WebView refers to the resource that you are currently writing code for.</p>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-4">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-4_tab5-0" role="tab" aria-controls="tabpanel_bHGHmlrG6S-4_tab5-0" data-tab="tab5-0" tabindex="0" aria-selected="true">Client-side code</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-4_tab5-1" role="tab" aria-controls="tabpanel_bHGHmlrG6S-4_tab5-1" data-tab="tab5-1" tabindex="-1">Client-side HTML</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-4_tab5-0" role="tabpanel" data-tab="tab5-0">

<pre><code class="lang-js">const webview = new alt.WebView('http://resource/client/html/index.html');
webview.on('test2', handleFromWebview);

function handleFromWebview(msg) {
    alt.log(msg);
}

alt.setTimeout(() =&gt; {
    webview.emit('test', 'Hello from Client');
}, 500);
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-4_tab5-1" role="tabpanel" data-tab="tab5-1" aria-hidden="true" hidden="hidden">

<pre><code class="lang-html">&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Hello World&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;p&gt;Words&lt;/p&gt;
        &lt;script type=&quot;text/javascript&quot;&gt;
            if ('alt' in window) {
                alt.on('test', msg =&gt; {
                    console.log(msg);
                    alt.emit('test2', 'hello from webview');
                });
            }
        &lt;/script&gt;
    &lt;/body&gt;
&lt;/html&gt;
</code></pre>
</section>
</div>
<h2 id="unsubscribes-from-events">Unsubscribes from events</h2>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-5">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-5_tab6-0" role="tab" aria-controls="tabpanel_bHGHmlrG6S-5_tab6-0" data-tab="tab6-0" tabindex="0" aria-selected="true">alt.off(Server-side/Client-side)</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-5_tab6-1" role="tab" aria-controls="tabpanel_bHGHmlrG6S-5_tab6-1" data-tab="tab6-1" tabindex="-1">alt.offClient(Server-side)</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-5_tab6-2" role="tab" aria-controls="tabpanel_bHGHmlrG6S-5_tab6-2" data-tab="tab6-2" tabindex="-1">alt.offServer(Client-side)</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-5_tab6-0" role="tabpanel" data-tab="tab6-0">

<pre><code class="lang-js">alt.on('customEventName', customEventFunction);
function customEventFunction() {
    alt.off('customEventName', customEventFunction);
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-5_tab6-1" role="tabpanel" data-tab="tab6-1" aria-hidden="true" hidden="hidden">

<pre><code class="lang-js">alt.onClient('customEventName', customEventFunction);
function customEventFunction() {
    alt.offClient('customEventName', customEventFunction);
}
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-5_tab6-2" role="tabpanel" data-tab="tab6-2" aria-hidden="true" hidden="hidden">

<pre><code class="lang-js">alt.onServer('customEventName', customEventFunction);
function customEventFunction() {
    alt.offServer('customEventName', customEventFunction);
}
</code></pre>
</section>
</div>
<h2 id="raw-events">Raw Events</h2>
<p>Raw events serialize the values to their raw byte buffer representation instead of converting them to an intermediate value, because of this the raw events can serialize and send big objects / arrays a lot faster than the normal events, BUT the downside is that this only works when both sides are using JavaScript</p>
<div class="CAUTION">
<h5>Caution</h5>
<p><code>alt.emitServerRaw</code> only works if the server is using javascript.</p>
</div>
<div class="tabGroup" id="tabgroup_bHGHmlrG6S-6">
<ul role="tablist">
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-6_tab7-0" role="tab" aria-controls="tabpanel_bHGHmlrG6S-6_tab7-0" data-tab="tab7-0" tabindex="0" aria-selected="true">Server-side(emitClientRaw or emitAllClientsRaw)</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-6_tab7-1" role="tab" aria-controls="tabpanel_bHGHmlrG6S-6_tab7-1" data-tab="tab7-1" tabindex="-1">Client-side(emitClientRaw or emitAllClientsRaw listener)</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-6_tab7-2" role="tab" aria-controls="tabpanel_bHGHmlrG6S-6_tab7-2" data-tab="tab7-2" tabindex="-1">Client-side(emitServerRaw)</a>
</li>
<li role="presentation">
<a href="#tabpanel_bHGHmlrG6S-6_tab7-3" role="tab" aria-controls="tabpanel_bHGHmlrG6S-6_tab7-3" data-tab="tab7-3" tabindex="-1">Server-side(emitServerRaw listener)</a>
</li>
</ul>
<section id="tabpanel_bHGHmlrG6S-6_tab7-0" role="tabpanel" data-tab="tab7-0">

<pre><code class="lang-js">alt.on('playerConnect', player =&gt; {
    const array = [
        { id: 0, name: &quot;test1&quot; },
        { id: 1, name: &quot;test2&quot; }
    ]
    alt.emitClientRaw(player, 'sayHello', array); // Send an event to a specific player

    // Send an event to all players
    alt.emitAllClientsRaw('sayHello', array);
});
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-6_tab7-1" role="tabpanel" data-tab="tab7-1" aria-hidden="true" hidden="hidden">

<pre><code class="lang-js">alt.onServer('sayHello', (array) =&gt; {
    alt.log(array);
});
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-6_tab7-2" role="tabpanel" data-tab="tab7-2" aria-hidden="true" hidden="hidden">

<pre><code class="lang-js">alt.on('connectionComplete', () =&gt; {
    const array = [
        { id: 0, name: &quot;test1&quot; },
        { id: 1, name: &quot;test2&quot; }
    ]
    alt.emitServerRaw(player, 'sayHello', array);
});
</code></pre>
</section>
<section id="tabpanel_bHGHmlrG6S-6_tab7-3" role="tabpanel" data-tab="tab7-3" aria-hidden="true" hidden="hidden">

<pre><code class="lang-js">alt.onClient('sayHello', (player, array) =&gt; {
    alt.log(`${player.name} is sended ${array}`);
});
</code></pre>
</section>
</div>
</article>
                    </div>

                </div>

            </main>

        </div>

        
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/arrive/2.4.1/arrive.min.js" integrity="sha512-wkU3qYWjenbM+t2cmvw2ADRRh4opbOYBjkhrPGHV7M6dcE/TR0oKpoDkWXfUs3HrulI2JFuTQyqPLRih1V54EQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twbs-pagination/1.4.2/jquery.twbsPagination.min.js" integrity="sha512-frFP3ZxLshB4CErXkPVEXnd5ingvYYtYhE5qllGdZmcOlRKNEPbufyupfdSTNmoF5ICaQNO6SenXzOZvoGkiIA==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.2/jquery.modal.min.js" integrity="sha512-ztxZscxb55lKL+xmWGZEbBHekIzy+1qYKHGZTWZYH1GUwxy0hiA18lW6ORIMj4DHRgvmP/qGcvqwEyFFV7OYVQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.0/anchor.min.js" integrity="sha512-G2OGlm41XXw+fcgDcRPjVYEn7qCY6qiKWNqDGT37SnKh0qtRXTuKZ5/UQR0kDN0PZRNWcGExd3lAeqEH0I36bQ==" crossorigin="anonymous"></script>
<script type="text/javascript" src="../../../styles/docfx.js"></script>
<script type="text/javascript" src="../../../styles/discord.js"></script>
<script type="text/javascript" src="../../../styles/main.js"></script>

    </body>

</html>
